# GitHub Repository Setup Implementation Plan

## Overview
Ops√¶t GitHub repository med korrekt struktur, branch protection, og CI/CD pipeline baseret p√• projektplanl√¶gningen. Dette er et kritisk foundation ticket der skal l√∏ses f√∏rst, da det blokerer alle andre CORE tickets.

## Linear Issue
**Issue:** CORE-4 - GitHub Repository Setup  
**Status:** Planned  
**Priority:** Urgent  
**Assignee:** Nicklas Eskou  
**Labels:** human-required, Infra

## Current State Analysis

### Key Discoveries:
- Repository eksisterer allerede: `eskoubar95/beauty-shop` (linje 28 i package.json)
- Basic package.json med scripts allerede implementeret
- Ingen CI/CD pipeline konfigureret endnu
- Ingen branch protection rules
- Ingen issue/PR templates
- .gitignore mangler (Next.js + MedusaJS specifik)

### What Exists:
- Git repository: `https://github.com/eskoubar95/beauty-shop.git`
- Basic package.json med scripts (linje 6-25)
- Secrets check script: `secrets:check` (linje 16)
- Environment scripts: `env:setup`, `env:validate`, `env:health` (linje 17-20)

### What's Missing:
- .gitignore fil for Next.js + MedusaJS
- GitHub Actions CI/CD pipeline
- Branch protection rules
- Issue templates (bug report, feature request)
- Pull request template
- README.md med projektoversigt
- CONTRIBUTING.md
- LICENSE fil

## Desired End State
- GitHub repository klar til udvikling med korrekt struktur
- CI/CD pipeline k√∏rer gr√∏nt p√• alle PRs
- Branch protection sikrer code quality
- Issue/PR templates matcher Linear workflow
- Dokumentation er komplet og klar

## What We're NOT Doing
- Oprettelse af nyt repository (eksisterer allerede)
- Konfiguration af faktiske secrets (kun CI/CD setup)
- Implementering af faktisk applikationskode
- Database eller backend konfiguration
- Frontend development

## Implementation Approach
F√∏lg GitHub best practices med CI/CD f√∏rst, derefter branch protection og templates.

---

## Phase 1: Repository Foundation

### Overview
Opret grundl√¶ggende repository struktur med .gitignore og README.md.

### Changes Required:

#### 1. .gitignore Configuration
**File:** `.gitignore`
**Changes:** Opret comprehensive .gitignore for Next.js + MedusaJS

```gitignore
# Dependencies
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Coverage directory used by tools like istanbul
coverage/
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage
.grunt

# Bower dependency directory
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons
build/Release

# Dependency directories
jspm_packages/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# parcel-bundler cache
.cache
.parcel-cache

# Next.js build output
.next
out/

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
public

# Storybook build outputs
.out
.storybook-out
storybook-static

# Temporary folders
tmp/
temp/

# Logs
logs
*.log

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# TypeScript v1 declaration files
typings/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variables file
.env
.env.test
.env.production

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# Storybook build outputs
.out
.storybook-out

# Temporary folders
tmp/
temp/

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

# MedusaJS specific
uploads/
build/
.medusa/

# Database
*.db
*.sqlite

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# IDE
.vscode/
.idea/
*.swp
*.swo

# Testing
coverage/
.nyc_output/

# Misc
*.tgz
*.tar.gz
```

**Rationale:** Comprehensive .gitignore sikrer at ingen sensitive filer eller build artifacts committes

#### 2. README.md Update
**File:** `README.md`
**Changes:** Opdater med projektoversigt og setup instruktioner

```markdown
# Beauty Shop

Modern hudplejeunivers der kombinerer koreansk innovation med nordisk enkelhed. Curated e-commerce platform for m√¶nd med fokus p√• kvalitet og enkelhed.

## üöÄ Tech Stack

- **Frontend:** Next.js 15 + TypeScript + Tailwind CSS
- **Backend:** MedusaJS v2 + PostgreSQL
- **Database:** Supabase
- **Authentication:** Clerk
- **Payments:** Stripe
- **Hosting:** Vercel (Frontend) + Render (Backend)

## üìã Prerequisites

- Node.js 20.x
- npm 10.x
- Git

## üõ†Ô∏è Development Setup

### 1. Clone Repository
```bash
git clone https://github.com/eskoubar95/beauty-shop.git
cd beauty-shop
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Environment Setup
```bash
# Setup development environment
npm run env:setup

# Validate environment
npm run env:check
```

### 4. Start Development
```bash
# Start development server
npm run dev
```

## üìÅ Project Structure

```
beauty-shop/
‚îú‚îÄ‚îÄ .github/                 # GitHub Actions & Templates
‚îú‚îÄ‚îÄ .project/               # Project documentation
‚îú‚îÄ‚îÄ scripts/                # Utility scripts
‚îú‚îÄ‚îÄ package.json            # Dependencies & scripts
‚îî‚îÄ‚îÄ README.md              # This file
```

## üß™ Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run start` - Start production server
- `npm run lint` - Run ESLint
- `npm run typecheck` - Run TypeScript check
- `npm run test` - Run tests
- `npm run env:setup` - Setup environment files
- `npm run env:validate` - Validate environment
- `npm run env:health` - Health check services
- `npm run security:audit` - Security audit

## üîí Security

- Environment variables never committed to git
- Secrets managed via secure services (Vercel, Render)
- Regular security audits with `npm run security:audit`

## üìö Documentation

- [Project Brief](.project/01-Project_Brief.md)
- [Tech Stack](.project/03-Tech_Stack.md)
- [API Design](.project/05-API_Design.md)
- [Security Guidelines](.project/security-guidelines.md)

## ü§ù Contributing

1. Create feature branch: `feature/CORE-{id}-{title}`
2. Make changes
3. Run tests: `npm run check`
4. Create pull request
5. Wait for review and approval

## üìÑ License

ISC License - see [LICENSE](LICENSE) file for details.

## üÜò Support

For questions or issues, please:
1. Check existing [GitHub Issues](https://github.com/eskoubar95/beauty-shop/issues)
2. Create new issue with appropriate template
3. Reference Linear issue if applicable
```

**Rationale:** Komplet README giver hurtig onboarding og reference

### Success Criteria:

#### Automated Verification:
- [ ] .gitignore oprettet og valideret
- [ ] README.md opdateret
- [ ] Type check: `npm run typecheck`
- [ ] Lint: `npm run lint`
- [ ] Secrets check: `npm run secrets:check`

#### Manual Verification:
- [ ] .gitignore d√¶kker alle n√∏dvendige filer
- [ ] README er informativ og klar
- [ ] Projektstruktur er korrekt dokumenteret

**‚ö†Ô∏è PAUSE HERE** - Manual approval before Phase 2

---

## Phase 2: Branch Protection & Workflow

### Overview
Konfigurer branch protection rules og opret issue/PR templates der matcher Linear workflow.

### Changes Required:

#### 1. Pull Request Template
**File:** `.github/pull_request_template.md`
**Changes:** Opret PR template med Linear integration

```markdown
## üìã Pull Request

### Linear Issue
- **Issue:** [CORE-XXX](https://linear.app/beauty-shop/issue/CORE-XXX)
- **Type:** [Feature | Bug Fix | Chore | Refactor]
- **Priority:** [Low | Medium | High | Urgent]

### üìù Description
[Brief description of changes]

### üîó Related Issues
- Closes #[issue-number]
- Related to #[issue-number]

### üß™ Testing
- [ ] Unit tests added/updated
- [ ] Integration tests added/updated
- [ ] Manual testing completed
- [ ] All tests pass: `npm run check`

### üìã Checklist
- [ ] Code follows project style guidelines
- [ ] Self-review completed
- [ ] Comments added for complex code
- [ ] Documentation updated (if needed)
- [ ] No console.log statements left
- [ ] No TODO comments left

### üöÄ Deployment Notes
[Any special deployment considerations]

### üì∏ Screenshots (if UI changes)
[Add screenshots if applicable]

### üîç Review Focus
[Areas that need special attention during review]

### ‚ö†Ô∏è Breaking Changes
[Describe any breaking changes]

### üìö Additional Context
[Any other context about the PR]
```

**Rationale:** Struktureret PR template sikrer konsistent information og Linear integration

#### 2. Bug Report Template
**File:** `.github/ISSUE_TEMPLATE/bug_report.md`
**Changes:** Opret bug report template der matcher Linear

```markdown
---
name: Bug Report
about: Create a bug report for Beauty Shop
title: '[BUG] '
labels: ['bug', 'needs-triage']
assignees: ''
---

## üêõ Bug Description
[A clear and concise description of what the bug is]

## üîó Linear Issue
- **Linear Issue ID:** [CORE-XXX or N/A]
- **Priority:** [Low | Medium | High | Urgent]

## üì± Environment
- **OS:** [e.g. macOS, Windows, Linux]
- **Browser:** [e.g. Chrome, Safari, Firefox]
- **Version:** [e.g. 22]
- **Device:** [e.g. iPhone, Desktop]

## üîÑ Steps to Reproduce
1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

## ‚úÖ Expected Behavior
[A clear and concise description of what you expected to happen]

## ‚ùå Actual Behavior
[A clear and concise description of what actually happened]

## üì∏ Screenshots
[If applicable, add screenshots to help explain your problem]

## üìã Additional Context
[Add any other context about the problem here]

## üß™ Acceptance Criteria
- [ ] Bug is reproducible
- [ ] Root cause identified
- [ ] Fix implemented
- [ ] Tests added
- [ ] Documentation updated (if needed)

## üîç Investigation Notes
[Any investigation notes or findings]
```

**Rationale:** Struktureret bug report sikrer alle n√∏dvendige informationer

#### 3. Feature Request Template
**File:** `.github/ISSUE_TEMPLATE/feature_request.md`
**Changes:** Opret feature request template der matcher Linear

```markdown
---
name: Feature Request
about: Suggest a new feature for Beauty Shop
title: '[FEATURE] '
labels: ['enhancement', 'needs-triage']
assignees: ''
---

## üöÄ Feature Description
[A clear and concise description of the feature you'd like to see]

## üîó Linear Issue
- **Linear Issue ID:** [CORE-XXX or N/A]
- **Priority:** [Low | Medium | High | Urgent]

## üí° Motivation
[Why is this feature needed? What problem does it solve?]

## üìã User Story
As a [user type], I want [functionality] so that [benefit]

## üéØ Acceptance Criteria
- [ ] [Specific, testable criteria 1]
- [ ] [Specific, testable criteria 2]
- [ ] [Specific, testable criteria 3]

## üì± Design/UX Considerations
[Any design or UX considerations]

## üîß Technical Considerations
[Any technical considerations or constraints]

## üìä Success Metrics
[How will we measure success of this feature?]

## üîó Related Issues
[Link to any related issues]

## üìö Additional Context
[Add any other context, mockups, or examples about the feature request here]

## üè∑Ô∏è Labels
[Suggested labels for categorization]
```

**Rationale:** Struktureret feature request sikrer klar requirements og Linear integration

### Success Criteria:

#### Automated Verification:
- [ ] PR template oprettet
- [ ] Bug report template oprettet
- [ ] Feature request template oprettet
- [ ] Type check: `npm run typecheck`
- [ ] Lint: `npm run lint`

#### Manual Verification:
- [ ] Templates matcher Linear workflow
- [ ] Alle n√∏dvendige felter inkluderet
- [ ] Templates er brugervenlige
- [ ] Linear integration fungerer

**‚ö†Ô∏è PAUSE HERE** - Manual approval before Phase 3

---

## Phase 3: CI/CD Pipeline

### Overview
Opret GitHub Actions CI/CD pipeline baseret p√• .cursor/rules/31-ci_cd_pipeline.md.

### Changes Required:

#### 1. GitHub Actions Workflow
**File:** `.github/workflows/ci.yml`
**Changes:** Opret CI/CD pipeline med alle n√∏dvendige steps

```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  check:
    name: Check & Test
    runs-on: ubuntu-latest
    
    strategy:
      matrix:
        node-version: [20.x]
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci --prefer-offline
      
      - name: Run type check
        run: npm run typecheck
      
      - name: Run linter
        run: npm run lint
      
      - name: Run tests
        run: npm run test
      
      - name: Run build
        run: npm run build
      
      - name: Run secrets check
        run: npm run secrets:check
      
      - name: Upload coverage reports
        uses: codecov/codecov-action@v3
        if: matrix.node-version == '20.x'
        with:
          file: ./coverage/lcov.info
          flags: unittests
          name: codecov-umbrella
          fail_ci_if_error: false

  security:
    name: Security Audit
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20.x
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci --prefer-offline
      
      - name: Run security audit
        run: npm run security:audit
      
      - name: Run npm audit
        run: npm audit --audit-level=moderate
        continue-on-error: true

  build:
    name: Build & Deploy
    runs-on: ubuntu-latest
    needs: [check, security]
    if: github.ref == 'refs/heads/main'
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20.x
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci --prefer-offline
      
      - name: Build application
        run: npm run build
      
      - name: Upload build artifacts
        uses: actions/upload-artifact@v3
        with:
          name: build-files
          path: |
            .next/
            build/
          retention-days: 7
      
      - name: Deploy to Vercel (Preview)
        if: github.event_name == 'pull_request'
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
      
      - name: Deploy to Vercel (Production)
        if: github.ref == 'refs/heads/main'
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
      
      - name: Notify deployment
        if: github.ref == 'refs/heads/main'
        run: |
          echo "üöÄ Beauty Shop deployed to production!"
          echo "Deployment URL: https://beauty-shop.vercel.app"
```

**Rationale:** Komplet CI/CD pipeline sikrer code quality og automatisk deployment

#### 2. Branch Protection Rules (Manual Setup)
**Instructions:** Konfigurer i GitHub repository settings

```markdown
## Branch Protection Rules Setup

### Main Branch Protection:
1. Go to Settings > Branches
2. Add rule for `main` branch
3. Configure:
   - ‚úÖ Require a pull request before merging
   - ‚úÖ Require approvals: 1
   - ‚úÖ Dismiss stale PR approvals when new commits are pushed
   - ‚úÖ Require status checks to pass before merging
   - ‚úÖ Require branches to be up to date before merging
   - ‚úÖ Require linear history
   - ‚úÖ Include administrators
   - ‚úÖ Restrict pushes that create files larger than 100MB

### Required Status Checks:
- check (Check & Test job)
- security (Security Audit job)

### Additional Settings:
- ‚úÖ Allow force pushes: No
- ‚úÖ Allow deletions: No
- ‚úÖ Restrict pushes to matching branches: Yes
```

**Rationale:** Branch protection sikrer code quality og forhindrer direkte pushes

### Success Criteria:

#### Automated Verification:
- [ ] CI workflow k√∏rer p√• PR
- [ ] CI workflow k√∏rer p√• push til main
- [ ] Alle jobs passerer
- [ ] Type check: `npm run typecheck`
- [ ] Lint: `npm run lint`

#### Manual Verification:
- [ ] Branch protection rules konfigureret
- [ ] CI pipeline k√∏rer gr√∏nt
- [ ] Security audit fungerer
- [ ] Deployment pipeline fungerer

**‚ö†Ô∏è PAUSE HERE** - Manual approval before Phase 4

---

## Phase 4: Documentation & Templates

### Overview
Opret yderligere dokumentation og templates for komplet repository setup.

### Changes Required:

#### 1. CONTRIBUTING.md
**File:** `CONTRIBUTING.md`
**Changes:** Opret contributing guide

```markdown
# Contributing to Beauty Shop

Thank you for your interest in contributing to Beauty Shop! This document provides guidelines and information for contributors.

## üöÄ Getting Started

### Prerequisites
- Node.js 20.x
- npm 10.x
- Git

### Development Setup
1. Fork the repository
2. Clone your fork: `git clone https://github.com/your-username/beauty-shop.git`
3. Install dependencies: `npm install`
4. Setup environment: `npm run env:setup`
5. Start development: `npm run dev`

## üìã Development Workflow

### Branch Naming
- Feature: `feature/CORE-{id}-{short-title}`
- Bug fix: `fix/CORE-{id}-{short-title}`
- Chore: `chore/CORE-{id}-{short-title}`
- Hotfix: `hotfix/CORE-{id}-{short-title}`

### Commit Convention
We use [Conventional Commits](https://www.conventionalcommits.org/):

```
type(scope): description

feat(auth): add login functionality
fix(cart): resolve checkout bug
docs(readme): update setup instructions
```

Types: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`

### Pull Request Process
1. Create feature branch from `main`
2. Make your changes
3. Run tests: `npm run check`
4. Create pull request with template
5. Wait for review and approval
6. Merge after approval

## üß™ Testing

### Running Tests
```bash
# Run all tests
npm run test

# Run tests in watch mode
npm run test:watch

# Run specific test file
npm run test -- src/components/Button.test.tsx
```

### Writing Tests
- Unit tests for all components and utilities
- Integration tests for API endpoints
- E2E tests for critical user flows
- Test coverage should be >80%

## üìù Code Style

### TypeScript
- Use strict mode
- Define interfaces for all data structures
- Avoid `any` type
- Use proper error handling

### React/Next.js
- Use functional components with hooks
- Follow Next.js best practices
- Use TypeScript for all components
- Implement proper error boundaries

### Styling
- Use Tailwind CSS classes
- Follow design system guidelines
- Ensure responsive design
- Test accessibility

## üîç Code Review

### Review Checklist
- [ ] Code follows style guidelines
- [ ] Tests are included and passing
- [ ] Documentation is updated
- [ ] No console.log statements
- [ ] No TODO comments
- [ ] Performance considerations
- [ ] Security implications

### Review Process
1. Automated checks must pass
2. At least one approval required
3. Address all review comments
4. Squash commits before merging

## üêõ Bug Reports

Use the bug report template and include:
- Clear description of the issue
- Steps to reproduce
- Expected vs actual behavior
- Environment details
- Screenshots if applicable

## üöÄ Feature Requests

Use the feature request template and include:
- Clear description of the feature
- Motivation and use case
- Acceptance criteria
- Design considerations
- Technical considerations

## üìö Documentation

### Project Documentation
- [Project Brief](.project/01-Project_Brief.md)
- [Tech Stack](.project/03-Tech_Stack.md)
- [API Design](.project/05-API_Design.md)

### Code Documentation
- Document complex functions
- Add JSDoc comments for public APIs
- Update README for new features
- Keep CHANGELOG updated

## ü§ù Community Guidelines

### Code of Conduct
- Be respectful and inclusive
- Focus on constructive feedback
- Help others learn and grow
- Follow the golden rule

### Getting Help
- Check existing issues and discussions
- Ask questions in GitHub Discussions
- Join our community channels
- Read the documentation

## üìÑ License

By contributing, you agree that your contributions will be licensed under the ISC License.

## üôè Recognition

Contributors will be recognized in:
- README.md contributors section
- Release notes
- Project documentation

Thank you for contributing to Beauty Shop! üéâ
```

**Rationale:** Komplet contributing guide sikrer konsistent development workflow

#### 2. LICENSE File
**File:** `LICENSE`
**Changes:** Opret ISC license fil

```text
ISC License

Copyright (c) 2025, Beauty Shop

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
```

**Rationale:** ISC license er simpel og tillader kommerciel brug

#### 3. GitHub Issue Templates Config
**File:** `.github/ISSUE_TEMPLATE/config.yml`
**Changes:** Opret issue template konfiguration

```yaml
blank_issues_enabled: false
contact_links:
  - name: Beauty Shop Community
    url: https://github.com/eskoubar95/beauty-shop/discussions
    about: Ask questions and discuss ideas with the community
  - name: Linear Issues
    url: https://linear.app/beauty-shop
    about: Create issues in Linear project management
```

**Rationale:** Konfiguration styrer issue creation og giver alternativer

### Success Criteria:

#### Automated Verification:
- [ ] CONTRIBUTING.md oprettet
- [ ] LICENSE fil oprettet
- [ ] Issue template config oprettet
- [ ] Type check: `npm run typecheck`
- [ ] Lint: `npm run lint`

#### Manual Verification:
- [ ] Dokumentation er komplet og klar
- [ ] License er korrekt
- [ ] Issue templates fungerer
- [ ] Contributing guide er praktisk

**‚ö†Ô∏è PAUSE HERE** - Manual approval before Phase 5

---

## Phase 5: Validation & Testing

### Overview
Test og valider at alle repository komponenter fungerer korrekt.

### Changes Required:

#### 1. Repository Health Check Script
**File:** `scripts/repo-health-check.js`
**Changes:** Opret script til repository validation

```javascript
#!/usr/bin/env node

const fs = require('fs')
const path = require('path')

function checkFileExists(filePath, description) {
  if (fs.existsSync(filePath)) {
    console.log(`‚úÖ ${description}: ${filePath}`)
    return true
  } else {
    console.log(`‚ùå ${description}: ${filePath} - MISSING`)
    return false
  }
}

function checkFileContent(filePath, requiredContent, description) {
  if (!fs.existsSync(filePath)) {
    console.log(`‚ùå ${description}: File not found`)
    return false
  }
  
  const content = fs.readFileSync(filePath, 'utf8')
  const hasContent = requiredContent.some(text => content.includes(text))
  
  if (hasContent) {
    console.log(`‚úÖ ${description}: Content verified`)
    return true
  } else {
    console.log(`‚ùå ${description}: Required content missing`)
    return false
  }
}

function repositoryHealthCheck() {
  console.log('üîç Running repository health check...\n')
  
  let allPassed = true
  
  // Check required files
  const requiredFiles = [
    { path: '.gitignore', desc: 'Git ignore file' },
    { path: 'README.md', desc: 'README file' },
    { path: 'CONTRIBUTING.md', desc: 'Contributing guide' },
    { path: 'LICENSE', desc: 'License file' },
    { path: 'package.json', desc: 'Package configuration' },
    { path: '.github/workflows/ci.yml', desc: 'CI workflow' },
    { path: '.github/pull_request_template.md', desc: 'PR template' },
    { path: '.github/ISSUE_TEMPLATE/bug_report.md', desc: 'Bug report template' },
    { path: '.github/ISSUE_TEMPLATE/feature_request.md', desc: 'Feature request template' },
    { path: '.github/ISSUE_TEMPLATE/config.yml', desc: 'Issue template config' }
  ]
  
  requiredFiles.forEach(file => {
    if (!checkFileExists(file.path, file.desc)) {
      allPassed = false
    }
  })
  
  // Check file content
  const contentChecks = [
    {
      path: 'package.json',
      content: ['"scripts"', '"dev"', '"build"', '"test"'],
      desc: 'Package.json scripts'
    },
    {
      path: '.github/workflows/ci.yml',
      content: ['name:', 'on:', 'jobs:', 'checkout@v4'],
      desc: 'CI workflow configuration'
    },
    {
      path: 'README.md',
      content: ['# Beauty Shop', 'Tech Stack', 'Development Setup'],
      desc: 'README content'
    }
  ]
  
  contentChecks.forEach(check => {
    if (!checkFileContent(check.path, check.content, check.desc)) {
      allPassed = false
    }
  })
  
  // Check .gitignore content
  const gitignoreChecks = [
    'node_modules/',
    '.env',
    '.next/',
    'build/',
    '.DS_Store'
  ]
  
  if (fs.existsSync('.gitignore')) {
    const gitignoreContent = fs.readFileSync('.gitignore', 'utf8')
    const gitignorePassed = gitignoreChecks.every(check => 
      gitignoreContent.includes(check)
    )
    
    if (gitignorePassed) {
      console.log('‚úÖ .gitignore content verified')
    } else {
      console.log('‚ùå .gitignore missing required patterns')
      allPassed = false
    }
  }
  
  console.log('\n' + '='.repeat(50))
  
  if (allPassed) {
    console.log('üéâ Repository health check PASSED!')
    console.log('‚úÖ All required files and configurations are in place')
    process.exit(0)
  } else {
    console.log('‚ùå Repository health check FAILED!')
    console.log('Please fix the issues above before proceeding')
    process.exit(1)
  }
}

repositoryHealthCheck()
```

**Rationale:** Automatiseret health check validerer repository setup

#### 2. Package.json Scripts Update
**File:** `package.json`
**Changes:** Tilf√∏j repository health check script

```json
{
  "scripts": {
    "repo:health": "node scripts/repo-health-check.js",
    "repo:check": "npm run repo:health && npm run check"
  }
}
```

**Rationale:** Konsistent npm scripts g√∏r repository validation nemt

#### 3. Final Documentation Update
**File:** `README.md`
**Changes:** Tilf√∏j repository health check til README

```markdown
## üß™ Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run start` - Start production server
- `npm run lint` - Run ESLint
- `npm run typecheck` - Run TypeScript check
- `npm run test` - Run tests
- `npm run env:setup` - Setup environment files
- `npm run env:validate` - Validate environment
- `npm run env:health` - Health check services
- `npm run security:audit` - Security audit
- `npm run repo:health` - Repository health check
- `npm run repo:check` - Full repository validation
```

**Rationale:** Opdateret README inkluderer alle nye scripts

### Success Criteria:

#### Automated Verification:
- [ ] Health check script k√∏rer: `npm run repo:health`
- [ ] Full validation k√∏rer: `npm run repo:check`
- [ ] Alle CI jobs passerer
- [ ] Type check: `npm run typecheck`
- [ ] Lint: `npm run lint`

#### Manual Verification:
- [ ] Repository health check passerer
- [ ] Alle filer og templates fungerer
- [ ] CI/CD pipeline k√∏rer gr√∏nt
- [ ] Branch protection fungerer
- [ ] Issue/PR templates fungerer

**‚ö†Ô∏è PAUSE HERE** - Final review before completion

---

## Testing Strategy

### Unit Tests
- Repository health check functions
- Environment validation scripts
- Security audit functions

### Integration Tests
- CI/CD pipeline end-to-end
- Branch protection validation
- Template functionality

### Manual Testing Steps
1. Create test pull request
2. Verify CI pipeline runs
3. Test branch protection rules
4. Validate issue templates
5. Test PR template
6. Run repository health check

### Accessibility Testing
- [ ] All templates are accessible
- [ ] Documentation is readable
- [ ] Links work correctly

## Performance Considerations
- CI pipeline should complete in <5 minutes
- Repository health check should complete in <30 seconds
- No large files in repository

## Security Considerations
- No secrets in repository
- Proper .gitignore configuration
- Security audit in CI pipeline
- Branch protection prevents direct pushes

## Migration Notes
- No existing data to migrate
- Fresh repository setup
- No rollback needed

## Rollback Plan
1. Revert to previous commit if issues arise
2. Disable branch protection temporarily
3. Fix issues and re-enable protection

## References
- **Linear Ticket:** [CORE-4](https://linear.app/beauty-shop/issue/CORE-4)
- **CI/CD Rules:** `.cursor/rules/31-ci_cd_pipeline.md`
- **Tech Stack:** `.project/03-Tech_Stack.md`
- **Project Brief:** `.project/01-Project_Brief.md`

## Implementation Notes
- Repository already exists, no need to create new one
- Focus on configuration and templates
- Ensure Linear integration works properly
- Test all components thoroughly

## Success Metrics
- [ ] Repository health check passes
- [ ] CI/CD pipeline runs green
- [ ] Branch protection configured
- [ ] All templates functional
- [ ] Documentation complete
- [ ] Linear integration working
- [ ] Team can use repository effectively
